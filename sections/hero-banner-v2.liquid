{% schema %}
{
  "name": "Hero Banner V2",
  "settings": [
    { "type": "image_picker", "id": "background_image", "label": "Background Image" },

    { "type": "text", "id": "headline", "label": "Headline Text", "default": "BACK TO SCHOOL SALE" },

    { "type": "text", "id": "ribbon_text", "label": "Top Ribbon Text", "default": "Labour Day Exclusive - LIMITED EXTENDED SALE" },

    { "type": "text", "id": "promo_text", "label": "Promo Subheading", "default": "Get your FREE Weight Loss Specialization + $2,449 savings today! Ends September 7." },

    { "type": "url", "id": "button_1_link", "label": "Primary Button Link" },
    { "type": "text", "id": "button_1_text", "label": "Primary Button Text", "default": "CHOOSE MY PROGRAM" },

    { "type": "url", "id": "button_2_link", "label": "Secondary Button Link" },
    { "type": "text", "id": "button_2_text", "label": "Secondary Button Text", "default": "TAKE THE QUIZ" },

    { "type": "image_picker", "id": "hero_image", "label": "Optional Side Image" },
    { "type": "text", "id": "hero_image_width", "label": "Side Image Width (px)", "default": "500" },
    { "type": "text", "id": "hero_image_height", "label": "Side Image Height (px)", "default": "500" },

    { "type": "richtext", "id": "award_text", "label": "Award Text", "default": "<p>CANADA'S TOP FITNESS TRAINER</p>" },
    { "type": "richtext", "id": "award_sub_text", "label": "Award Sub Text", "default": "<p>According to Impact Magazine</p>" },

    { "type": "image_picker", "id": "award_image_1", "label": "Award Image 1" },
    { "type": "image_picker", "id": "award_image_2", "label": "Award Image 2" },

    { "type": "text", "id": "award_image_width", "label": "Award Image Width", "default": "40" },
    { "type": "text", "id": "award_image_height", "label": "Award Image Height", "default": "40" },

    { "type": "text", "id": "badge_2_text", "label": "Badge Text", "default": "10,000+ NASM CERTIFICATIONS" }
  ],
  "presets": [
    { "name": "Hero Banner V2" }
  ]
}
{% endschema %}

{%- assign ROOT_ID = 'hbv2-' | append: section.id -%}
<section id="{{ ROOT_ID }}" class="hbv2-banner">
  <div class="hbv2-bg" style="background-image: url({{ section.settings.background_image | img_url: 'master' }});"></div>

  <div class="hbv2-content page-container">
    <div class="hbv2-left">
      <div class="hbv2-head">
        {%- if section.settings.ribbon_text != blank -%}
          <div class="hbv2-ribbon">{{ section.settings.ribbon_text }}</div>
        {%- endif -%}

        <h1 class="hbv2-title">
          <span class="hbv2-title-desktop">{{ section.settings.headline }}</span>
          <span class="hbv2-title-mobile">{{ section.settings.headline }}</span>
        </h1>

        {%- if section.settings.promo_text != blank -%}
          <div class="hbv2-promo">{{ section.settings.promo_text }}</div>
        {%- endif -%}
      </div>

      <div class="hbv2-badges">
        <div class="hbv2-badge">
          <!-- star-ish icon kept from base -->
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" aria-hidden="true">
            <path d="M1.826 11.801 1 12.156s4.844 4.214 4.966 4.33c.241.234.472.352.241 1.055-.241.703-.476 1.645-.476 1.645s4.495-.942 4.972-1.059c.411-.042.864.117.864.586 0 .473-.274 5.286-.274 5.286h1.416s-.274-4.813-.274-5.287c0-.469.448-.628.869-.586.472.117 4.966 1.059 4.966 1.059s-.236-.942-.472-1.645c-.237-.703 0-.82.236-1.055.118-.117 4.966-4.33 4.966-4.33l-.826-.352c-.472-.23-.349-.539-.236-.816.114-.356.949-3.155.949-3.155s-2.252.469-2.724.586c-.354.112-.472-.117-.59-.352s-.708-1.519-.708-1.519-2.484 2.808-2.602 2.92c-.472.352-.949 0-.831-.469 0-.469 1.303-6.074 1.303-6.074s-1.421.816-1.894 1.05c-.354.234-.595.234-.831-.234C13.77 3.389 11.994 0 11.994 0s-1.771 3.389-2.006 3.741c-.236.468-.472.468-.831.233-.472-.234-1.894-1.05-1.894-1.05S8.567 8.531 8.567 9c.119.47-.354.821-.83.47-.118-.117-2.602-2.92-2.602-2.92s-.59 1.28-.708 1.514c-.117.234-.235.464-.59.352-.476-.117-2.724-.586-2.724-.586s.831 2.798.949 3.155c.113.281.235.586-.236.816Z" fill="#E9F24F"/>
          </svg>
          <span>{{ section.settings.badge_2_text }}</span>
        </div>
      </div>

      <div class="hbv2-buttons">
        {%- if section.settings.button_1_link and section.settings.button_1_text -%}
          <a href="{{ section.settings.button_1_link }}" class="btn hbv2-btn-yg">
            <span class="btn-label">{{ section.settings.button_1_text }}</span>
            <span class="btn-label">{{ section.settings.button_1_text }}</span>
          </a>
        {%- endif -%}
        {%- if section.settings.button_2_link and section.settings.button_2_text -%}
          <a href="{{ section.settings.button_2_link }}" class="btn hbv2-btn-w">
            <span class="btn-label">{{ section.settings.button_2_text }}</span>
            <span class="btn-label">{{ section.settings.button_2_text }}</span>
          </a>
        {%- endif -%}
      </div>

      <div class="hbv2-footer">
        <div class="hbv2-award">
          <div class="hbv2-award-desktop">
            {%- if section.settings.award_image_1 -%}
              <img src="{{ section.settings.award_image_1 | img_url }}"
                   alt="Award 1"
                   width="{{ section.settings.award_image_width }}"
                   height="{{ section.settings.award_image_height }}">
            {%- endif -%}
            {%- if section.settings.award_image_2 -%}
              <img src="{{ section.settings.award_image_2 | img_url }}"
                   alt="Award 2"
                   width="{{ section.settings.award_image_width }}"
                   height="{{ section.settings.award_image_height }}">
            {%- endif -%}
          </div>

          <div class="hbv2-award-mobile">
            <!-- mobile badge icon from base -->
            <svg xmlns="http://www.w3.org/2000/svg" width="32" height="42" viewBox="0 0 32 42" fill="none" aria-hidden="true">
              <g clip-path="url(#clip0_314_1298)">
                <path d="M14.53 0.940381C15.418 0.355811 16.5805 0.355811 17.4686 0.940381L18.9055 1.8773C19.3899 2.1896 19.955 2.34175 20.5282 2.30972L22.2477 2.20562C23.3134 2.14155 24.3144 2.71812 24.7907 3.66304L25.5657 5.19253C25.824 5.70503 26.2438 6.11343 26.7524 6.36968L28.3105 7.14644C29.2631 7.6189 29.8443 8.61187 29.7798 9.6689L29.6748 11.3746C29.6425 11.9431 29.7959 12.5117 30.1108 12.9841L31.0634 14.4095C31.6527 15.2904 31.6527 16.4435 31.0634 17.3244L30.1108 18.7578C29.7959 19.2382 29.6425 19.7988 29.6748 20.3673L29.7798 22.073C29.8443 23.13 29.2631 24.123 28.3105 24.5955L26.7686 25.3642C26.2519 25.6205 25.8402 26.0369 25.5818 26.5414L24.7988 28.0869C24.3225 29.0318 23.3214 29.6084 22.2558 29.5443L20.5363 29.4402C19.9631 29.4082 19.3899 29.5603 18.9136 29.8726L17.4766 30.8175C16.5886 31.4021 15.4261 31.4021 14.5381 30.8175L13.093 29.8726C12.6087 29.5603 12.0436 29.4082 11.4704 29.4402L9.75086 29.5443C8.68523 29.6084 7.68419 29.0318 7.20789 28.0869L6.43289 26.5574C6.17455 26.0449 5.75476 25.6365 5.24617 25.3802L3.6881 24.6035C2.73549 24.131 2.15424 23.138 2.21882 22.081L2.32377 20.3753C2.35606 19.8068 2.20268 19.2382 1.88783 18.7658L0.943303 17.3324C0.35398 16.4515 0.35398 15.2984 0.943303 14.4175L1.88783 12.9921C2.20268 12.5117 2.35606 11.9511 2.32377 11.3826L2.21882 9.6769C2.15424 8.61987 2.73549 7.6269 3.6881 7.15444L5.23002 6.38569C5.74669 6.12144 6.16648 5.70503 6.42481 5.19253L7.19981 3.66304C7.67612 2.71812 8.67716 2.14155 9.74278 2.20562L11.4623 2.30972C12.0355 2.34175 12.6087 2.1896 13.085 1.8773L14.53 0.940381ZM22.4576 15.875C22.4576 14.1759 21.7772 12.5465 20.566 11.345C19.3549 10.1436 17.7122 9.4687 15.9993 9.4687C14.2864 9.4687 12.6437 10.1436 11.4326 11.345C10.2214 12.5465 9.54096 14.1759 9.54096 15.875C9.54096 17.574 10.2214 19.2034 11.4326 20.4049C12.6437 21.6063 14.2864 22.2812 15.9993 22.2812C17.7122 22.2812 19.3549 21.6063 20.566 20.4049C21.7772 19.2034 22.4576 17.574 22.4576 15.875ZM0.604241 35.8785L4.08367 27.6705C4.09981 27.6785 4.10789 27.6865 4.11596 27.7025L4.89096 29.232C5.83549 31.0898 7.79721 32.2189 9.89617 32.0988L11.6157 31.9947C11.6318 31.9947 11.6561 31.9947 11.6722 32.0107L13.1092 32.9556C13.5209 33.2199 13.9568 33.4281 14.4089 33.5722L11.3735 40.7232C11.1878 41.1636 10.7761 41.4599 10.2998 41.5C9.82351 41.54 9.36336 41.3238 9.10502 40.9234L6.50554 36.9755L1.97664 37.6402C1.51648 37.7042 1.05632 37.5201 0.765699 37.1597C0.475074 36.7994 0.418564 36.3029 0.596168 35.8785H0.604241ZM20.6251 40.7152L17.5897 33.5722C18.0417 33.4281 18.4777 33.2279 18.8894 32.9556L20.3264 32.0107C20.3425 32.0027 20.3587 31.9947 20.3829 31.9947L22.1024 32.0988C24.2014 32.2189 26.1631 31.0898 27.1076 29.232L27.8826 27.7025C27.8907 27.6865 27.8988 27.6785 27.9149 27.6705L31.4024 35.8785C31.58 36.3029 31.5154 36.7914 31.2329 37.1597C30.9503 37.5281 30.4821 37.7123 30.022 37.6402L25.493 36.9755L22.8936 40.9154C22.6352 41.3158 22.1751 41.532 21.6988 41.4919C21.2225 41.4519 20.8108 41.1476 20.6251 40.7152Z" fill="#E9F24F"/>
              </g>
              <defs><clipPath id="clip0_314_1298"><rect width="31" height="41" fill="white" transform="translate(0.5 0.5)"/></clipPath></defs>
            </svg>
          </div>

          <div class="hbv2-award-text">
            {{ section.settings.award_text }}
            <div class="hbv2-award-sub">{{ section.settings.award_sub_text }}</div>
          </div>
        </div>
      </div>
    </div>

    {%- if section.settings.hero_image -%}
    <div class="hbv2-right">
      <img
        src="{{ section.settings.hero_image | img_url: 'master' }}"
        alt="{{ section.settings.headline | escape }}"
        width="{{ section.settings.hero_image_width }}"
        height="{{ section.settings.hero_image_height }}">
    </div>
    {%- endif -%}
  </div>
</section>

<style>
  /* ===== Scoped to this section ===== */
  #{{ ROOT_ID }}.hbv2-banner {
    position: relative; overflow: hidden; min-height: 633px; color: #fff; background-color: #133257;
    display: flex; justify-content: center;
  }
  #{{ ROOT_ID }} .hbv2-bg {
    position: absolute; inset: 0; background-size: cover; background-position: center; z-index: 1; pointer-events: none;
  }
  @media (max-width:980px){
    #{{ ROOT_ID }} .hbv2-bg::before{
      content:""; position:absolute; inset:0;
      background: linear-gradient(180deg, #133257 0.05%, rgba(19,50,87,.90) 14.89%, rgba(19,50,87,.80) 26.79%, rgba(19,50,87,.20) 99.95%);
    }
  }

  #{{ ROOT_ID }} .hbv2-content {
    position: relative; z-index: 2; width: 90%; max-width: 1280px;
    display: grid; gap: 32px;
  }
  @media (min-width:981px){
    #{{ ROOT_ID }} .hbv2-content { grid-template-columns: 1.2fr .8fr; align-items: center; }
  }

  #{{ ROOT_ID }} .hbv2-title { margin: 0 0 20px 0; font-family: var(--font-heading-family); line-height:104%; text-transform:uppercase; }
  @media (min-width:981px){ #{{ ROOT_ID }} .hbv2-title { font-size: 62px; } }
  @media (max-width:980px){ #{{ ROOT_ID }} .hbv2-title { font-size: 50px; text-align:center; } }

  #{{ ROOT_ID }} .hbv2-title-desktop { display:inline; }
  #{{ ROOT_ID }} .hbv2-title-mobile { display:none; }
  @media (max-width:980px){ #{{ ROOT_ID }} .hbv2-title-desktop { display:none; } #{{ ROOT_ID }} .hbv2-title-mobile { display:inline; } }

  #{{ ROOT_ID }} .hbv2-ribbon { font-size: 26px; margin: 0 0 8px 5px; }
  #{{ ROOT_ID }} .hbv2-promo  { font-size: 24px; margin: 0 0 12px 5px; }

  #{{ ROOT_ID }} .hbv2-badges { display:flex; gap:20px; margin: 12px 0 20px; flex-wrap:wrap; }
  #{{ ROOT_ID }} .hbv2-badge { display:flex; align-items:center; gap:10px; }
  #{{ ROOT_ID }} .hbv2-badge span {
    color:#FFF; font-family: var(--font-body-family); font-size:14px; font-weight:700; letter-spacing:1.12px; text-transform:uppercase; opacity:.85;
  }

  #{{ ROOT_ID }} .hbv2-buttons { display:flex; gap:20px; flex-wrap:wrap; margin-bottom:20px; }
  @media (max-width:768px){ #{{ ROOT_ID }} .hbv2-buttons .btn { width:100%; } }

  /* Buttons */
  #{{ ROOT_ID }} .btn { display:inline-block; height:49px; line-height:49px; border-radius:8px; overflow:hidden; text-decoration:none; }
  #{{ ROOT_ID }} .btn .btn-label { display:block; margin:0 30px; font:700 14px/49px Montserrat, var(--font-body-family); letter-spacing:1.12px; text-transform:uppercase; transition:.3s; }
  #{{ ROOT_ID }} .hbv2-btn-yg { background:#e9f24f; color:#141414; }
  #{{ ROOT_ID }} .hbv2-btn-w  { background:rgba(255,255,255,.2); color:#fff; }
  #{{ ROOT_ID }} .hbv2-btn-w .btn-label { color:#fff; }
  #{{ ROOT_ID }} .hbv2-btn-w:hover { background:#fff; }
  #{{ ROOT_ID }} .hbv2-btn-w:hover .btn-label { color:#141414; }

  #{{ ROOT_ID }} .hbv2-footer { display:flex; align-items:center; gap:50px; }
  @media (min-width:981px){ #{{ ROOT_ID }} .hbv2-footer { position:absolute; bottom:0; left:0; right:0; justify-content:space-between; } }
  @media (max-width:980px){
    #{{ ROOT_ID }} .hbv2-content { justify-content:center; min-height:450px; }
    #{{ ROOT_ID }} .hbv2-footer { position:absolute; bottom:30px; left:0; right:0; justify-content:center; }
  }

  #{{ ROOT_ID }} .hbv2-award { display:flex; align-items:flex-end; gap:10px; }
  #{{ ROOT_ID }} .hbv2-award-desktop { display:flex; align-items:center; }
  #{{ ROOT_ID }} .hbv2-award-mobile { display:none; }
  @media (max-width:980px){ #{{ ROOT_ID }} .hbv2-award-desktop { display:none; } #{{ ROOT_ID }} .hbv2-award-mobile { display:flex; align-items:center; } }

  #{{ ROOT_ID }} .hbv2-award-text p { margin:0; }
  #{{ ROOT_ID }} .hbv2-award-text p strong,
  #{{ ROOT_ID }} .hbv2-award-sub p {
    color:#f9fafb; font-family: var(--font-body-family); font-size:14px; line-height:150%;
  }
  #{{ ROOT_ID }} .hbv2-award-sub p { opacity:.6; }

  #{{ ROOT_ID }} .hbv2-right img {
    max-height:500px; width:auto; height:auto; border-radius:12px; object-fit:cover; box-shadow:0 4px 4px rgba(0,0,0,.04);
  }
</style>
