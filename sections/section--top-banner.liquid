{% schema %}
{
  "name": "Top Banner",
  "settings": [
    {
      "type": "image_picker",
      "id": "background_image",
      "label": "Background Image"
    },

    {
      "type": "text",
      "id": "title",
      "label": "Title",
      "default": "Lorem ipsum dolor sit amet"
    },
    {
      "type": "text",
      "id": "title_font_size",
      "label": "Title font-size (accepts clamp())",
      "default": "clamp(32px,6vw,64px)"
    },
    {
      "type": "color",
      "id": "title_color",
      "label": "Title color",
      "default": "#FFFFFF"
    },

    {
      "type": "text",
      "id": "subtitle",
      "label": "Subtitle"
    },
    {
      "type": "text",
      "id": "subtitle_font_size",
      "label": "Subtitle font-size (accepts clamp())",
      "default": "clamp(20px,2.5vw,28px)"
    },
    {
      "type": "color",
      "id": "subtitle_color",
      "label": "Subtitle color",
      "default": "#FFFFFF"
    },

    {
      "type": "richtext",
      "id": "desc1",
      "label": "Description 1"
    },
    {
      "type": "text",
      "id": "desc_font_size",
      "label": "Description font-size (accepts clamp())",
      "default": "clamp(14px,1.4vw,18px)"
    },
    {
      "type": "color",
      "id": "desc_color",
      "label": "Description color",
      "default": "#FFFFFF"
    },

    {
      "type": "url",
      "id": "button_link",
      "label": "Button Link (legacy)",
      "default": "/collections/all"
    },
    {
      "type": "text",
      "id": "button_text",
      "label": "Button Text (legacy)",
      "default": "GET CERTIFIED"
    },

    {
      "type": "checkbox",
      "id": "show_button_1",
      "label": "Show Button 1",
      "default": true
    },
    {
      "type": "text",
      "id": "button_1_text",
      "label": "Button 1 Text",
      "default": "SPEAK TO ADVISOR"
    },
    {
      "type": "url",
      "id": "button_1_link",
      "label": "Button 1 Link",
      "default": "/"
    },
    {
      "type": "color",
      "id": "button_1_bg",
      "label": "Button 1 background",
      "default": "#FFFFFF"
    },
    {
      "type": "color",
      "id": "button_1_text_color",
      "label": "Button 1 text color",
      "default": "#01241E"
    },

    {
      "type": "checkbox",
      "id": "show_button_2",
      "label": "Show Button 2",
      "default": true
    },
    {
      "type": "text",
      "id": "button_2_text",
      "label": "Button 2 Text",
      "default": "BOOK A CALL"
    },
    {
      "type": "url",
      "id": "button_2_link",
      "label": "Button 2 Link",
      "default": "/"
    },
    {
      "type": "color",
      "id": "button_2_bg",
      "label": "Button 2 background",
      "default": "#C8FF63"
    },
    {
      "type": "color",
      "id": "button_2_text_color",
      "label": "Button 2 text color",
      "default": "#01241E"
    },

    {
      "type": "text",
      "id": "button_font_size",
      "label": "Button font-size (accepts clamp())",
      "default": "clamp(13px,1.2vw,16px)"
    },
    {
      "type": "text",
      "id": "button_gap",
      "label": "Gap between buttons (accepts clamp())",
      "default": "clamp(12px,2vw,32px)"
    },

    {
      "type": "select",
      "id": "button_position",
      "label": "Button Position",
      "options": [
        { "value": "left", "label": "Left" },
        { "value": "center", "label": "Center" },
        { "value": "right", "label": "Right" }
      ],
      "default": "left"
    },

    {
      "type": "select",
      "id": "title_alignment",
      "label": "Text Alignment",
      "options": [
        { "value": "left", "label": "Left" },
        { "value": "center", "label": "Center" },
        { "value": "right", "label": "Right" }
      ],
      "default": "left"
    },

    {
      "type": "range",
      "id": "container_width",
      "label": "Container width",
      "min": 200,
      "max": 2000,
      "step": 20,
      "unit": "px",
      "default": 980
    },
    {
      "type": "select",
      "id": "alignment",
      "label": "Block Alignment",
      "options": [
        { "value": "flex-start", "label": "Flex Start" },
        { "value": "center", "label": "Center" },
        { "value": "flex-end", "label": "Flex End" }
      ],
      "default": "center"
    },

    {
      "type": "text",
      "id": "banner_height",
      "label": "Banner height",
      "info": "Enter a value like 480px or 70vh. Leave blank to use the default banner height.",
      "placeholder": "e.g. 480px or 70vh"
    },
    {
      "type": "select",
      "id": "top_banner_align_items",
      "label": "Top banner align-items (applies only when height is set)",
      "options": [
        { "value": "flex-start", "label": "Flex Start" },
        { "value": "center", "label": "Center" },
        { "value": "flex-end", "label": "Flex End" }
      ],
      "default": "center"
    },
    {
      "type": "checkbox",
      "id": "show_banner_gradient",
      "label": "Show background gradient overlay",
      "default": true
    }
  ],
  "presets": [
    {
      "name": "Top Banner",
      "category": "Custom"
    }
  ]
}
{% endschema %}

{%- assign btn1_on = section.settings.show_button_1 -%}
{%- assign btn2_on = section.settings.show_button_2 -%}
{%- assign both_buttons = false -%}
{%- if btn1_on and btn2_on -%}
  {%- assign both_buttons = true -%}
{%- endif -%}

<section
  class="section--top-banner {% if section.settings.show_banner_gradient %}has-gradient{% endif %}"
  style="
    {% if section.settings.banner_height != blank %}
      height: {{ section.settings.banner_height }};
      display:flex;
      flex-direction:row;
      align-items: {{ section.settings.top_banner_align_items }};
    {% endif %}
    --title-fs: {{ section.settings.title_font_size | default: 'clamp(32px,6vw,64px)' }};
    --title-color: {{ section.settings.title_color | default: '#FFFFFF' }};
    --subtitle-fs: {{ section.settings.subtitle_font_size | default: 'clamp(20px,2.5vw,28px)' }};
    --subtitle-color: {{ section.settings.subtitle_color | default: '#FFFFFF' }};
    --desc-fs: {{ section.settings.desc_font_size | default: 'clamp(14px,1.4vw,18px)' }};
    --desc-color: {{ section.settings.desc_color | default: '#FFFFFF' }};
    --btn1-bg: {{ section.settings.button_1_bg | default: '#FFFFFF' }};
    --btn1-color: {{ section.settings.button_1_text_color | default: '#01241E' }};
    --btn2-bg: {{ section.settings.button_2_bg | default: '#C8FF63' }};
    --btn2-color: {{ section.settings.button_2_text_color | default: '#01241E' }};
    --btn-fs: {{ section.settings.button_font_size | default: 'clamp(13px,1.2vw,16px)' }};
    --btn-gap: {{ section.settings.button_gap | default: 'clamp(12px,2vw,32px)' }};
  "
>
  <div class="section--top-banner-container">
    <div class="top-banner--text-content" style="display: flex; justify-content: {{ section.settings.alignment }};">
      <div class="top-banner--text-content-container" style="max-width: {{ section.settings.container_width }}px; text-align: {{ section.settings.title_alignment }};">
        <h1>{{ section.settings.title }}</h1>

        {% if section.settings.subtitle != blank %}
          <p class="subtitle-p">{{ section.settings.subtitle }}</p>
        {% endif %}

        {% if section.settings.desc1 != blank %}
          <p class="desc-main">{{ section.settings.desc1 }}</p>
        {% endif %}

        <div class="button-wrapper{% if both_buttons %} has-two{% else %} has-one{% endif %}" style="justify-content: {{ section.settings.button_position }};">
          {% if section.settings.show_button_1 %}
            <a href="{{ section.settings.button_1_link }}" target="_blank" class="btn button-yg">
              <span class="btn-label-down">{{ section.settings.button_1_text }}</span>
              <span class="btn-label-down">{{ section.settings.button_1_text }}</span>
            </a>
          {% endif %}

          {% if section.settings.show_button_2 %}
            <a href="{{ section.settings.button_2_link }}" target="_blank" class="btn button-b">
              <span class="btn-label-down">{{ section.settings.button_2_text }}</span>
              <span class="btn-label-down">{{ section.settings.button_2_text }}</span>
            </a>
          {% endif %}
        </div>
      </div>
    </div>
  </div>

  <div class="section--top-background" style="background-image: url({{ section.settings.background_image | img_url: 'master' }});"></div>
</section>

<style>
.section--top-background{
  background-size: cover;
  background-position: right;
  background-repeat: no-repeat;
  height: 100%;
  position: absolute;
  right: 0;
  top: 0;
  width: 50%;
}
@media (max-width: 768px) {
  .section--top-background{
    background-position: center;
  }
}

.section--top-banner{
  background-color: #133257;
  color: #fff;
  text-align: left;
  position: relative;
  padding: 90px 0;
}
.section--top-banner.has-gradient:before {
  content: "";
  position: absolute;
  background: linear-gradient(90deg, #133257 1%, rgba(19, 50, 87, 0.9) 7.34%, rgba(19, 50, 87, 0.50) 15%, rgba(19, 50, 87, 0.00) 50%);
  width: 49%;
  height: 100%;
  top: 0;
  bottom: 0;
  left: auto;
  right: 1%;
  z-index: 1;
  background-fit:cover;
}
.section--top-banner .section--top-banner-container {
  display: flex;
  justify-content: space-between;
  align-items: center;
  max-width: 1989px;
  width: 90%;
  margin: 0 auto;
  z-index: 99999;
  position: relative;
}
.top-banner--text-content {
  width: 100%;
}

/* Typography with custom properties */
.section--top-banner .top-banner--text-content h1 {
  color: var(--title-color, #fff);
  font-family: var(--font-anton);
  font-size: var(--title-fs, clamp(32px,6vw,64px));
  font-weight: 400;
  line-height: 1.2;
  margin-bottom: clamp(20px,5vw,50px);
  text-transform: none;
}
.section--top-banner .subtitle-p {
  font-size: var(--subtitle-fs, clamp(20px,2.5vw,28px));
  color: var(--subtitle-color, #fff);
  margin: 0 0 18px;
}
.section--top-banner .desc-main {
  color: var(--desc-color, #fff);
  font-family: var(--font-body-family);
  font-size: var(--desc-fs, clamp(14px,1.4vw,18px));
  font-style: normal;
  font-weight: 400;
  line-height: 150%;
  margin-bottom: 40px;
}

/* Buttons */
.section--top-banner .button-wrapper{
  display:flex;
  flex-wrap:wrap;
}
.section--top-banner .button-wrapper.has-two{
  gap: var(--btn-gap, 20px);
}
.section--top-banner .button-wrapper.has-one{
  gap: 0;
}
.section--top-banner .button-wrapper .btn{
  font-family: var(--font-adirek800);
  font-weight: 800;
  font-size: var(--btn-fs, clamp(13px,1.2vw,16px));
  text-transform: uppercase;
}

/* Button 1 (primary) */
.section--top-banner .top-banner--text-content .button-wrapper .btn.button-yg {
  background-color: var(--btn1-bg, #FFFFFF) !important;
  border-radius: 10px;
  border-color: var(--btn1-bg, #FFFFFF) !important;
  color: var(--btn1-color, #01241E) !important;
}

/* Button 2 (secondary) */
.section--top-banner .top-banner--text-content .button-wrapper .btn.button-b {
  background-color: var(--btn2-bg, #C8FF63) !important;
  border-radius: 10px;
  border-color: var(--btn2-bg, #C8FF63) !important;
}
.section--top-banner .top-banner--text-content .button-wrapper .btn.button-b span {
  font-family: var(--font-adirek800);
  font-weight: 800;
  text-decoration: none;
  color: var(--btn2-color, #01241E) !important;
}

@media (max-width: 990px) {
  .section--top-banner{
    padding: 60px 0;
  }
  .section--top-banner .top-banner--text-content .button-wrapper .btn.button-b {
    width: auto;
  }
}
</style>
