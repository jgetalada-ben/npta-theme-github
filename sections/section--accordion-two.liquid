{% schema %}
{
    "name": "Accordion Two",
    "settings": [
              {
      "type": "text",
      "id": "section_id",
      "label": "Section ID",
      "default": "certified-trainers"
    },
        {
            "type": "text",
            "id": "heading",
            "label": "Heading",
            "default": "Why Students Love NPTA"
        },
    
        {
            "type": "url",
            "id": "video_url",
            "label": "Video URL"
        },
        {
            "type": "text",
            "id": "primary_button_text",
            "label": "Primary Button Text",
            "default": "Get Certified"
        },
        {
            "type": "url",
            "id": "primary_button_link",
            "label": "Primary Button Link"
        },
        {
            "type": "text",
            "id": "secondary_button_text",
            "label": "Secondary Button Text",
            "default": "Schedule a Consult"
        },
        {
            "type": "url",
            "id": "secondary_button_link",
            "label": "Secondary Button Link"
        }
    ],
    "blocks": [
        {
            "type": "highlight",
            "name": "Highlight",
            "settings": [
                {
                    "type": "text",
                    "id": "highlight_title",
                    "label": "Highlight Title",
                    "default": "Highlight Title Goes Here"
                },
                {
                    "type": "textarea",
                    "id": "highlight_description",
                    "label": "Highlight Description",
                    "default": "Short description goes here."
                }
            ]
        }
    ],
    "presets": [
        {
            "name": "Accordion Two",
            "category": "Custom Sections"
        }
    ]
}
{% endschema %}


<section class="section--accordion-two">
    <div class="accordion-two--container page-container">
        <div class="accordion-two--content">
            <div class="accordion-two--column-left">
                <div class="section--title-block ">
                    <h2 class="is--flex-start">{{ section.settings.heading }}</h2> 
                  
                </div>

                <div class="accordion-two--highlights">
                    {% for block in section.blocks %}
                        {% if block.type == 'highlight' %}
                            <div class="accordion-two--highlight">
                                <h3>{{ block.settings.highlight_title }}</h3>
                                <p>{{ block.settings.highlight_description }}</p>
                            </div>
                        {% endif %}
                    {% endfor %}
                </div>

                <div class="section--hero-buttons">
                    <a href="{{ section.settings.primary_button_link }}" class="btn button-yg">
                        <span class="btn-label-down">{{ section.settings.primary_button_text }}</span>
                        <span class="btn-label-down">{{ section.settings.primary_button_text }}</span>
                    </a>
                    <a href="{{ section.settings.secondary_button_link }}" class="btn button-w">
                        <span class="btn-label-down">{{ section.settings.secondary_button_text }}</span>
                        <span class="btn-label-down">{{ section.settings.secondary_button_text }}</span>
                    </a>
                </div>
            </div>
            <div class="accordion-two--column-right">
                {% if section.settings.video_url %}
                    <div class="video-wrapper">
                        <iframe src="{{ section.settings.video_url | replace: 'watch?v=', 'embed/' }}" frameborder="0" allowfullscreen></iframe>
                    </div>
                {% endif %}
            </div>
        </div>
    </div>
</section>

<style>
.is--heading-white h2{
  color: #FFF;
} 


.section--accordion-two {
        display: flex;
        justify-content: center;
        align-items: center;
        background-color: #fff;
        padding: 90px 0;
    }
.accordion-two--container{

}
  @media only screen and (min-width: 981px) {
  .accordion-two--content{
  grid-template-columns:1fr 1fr;
}
    .accordion-two--content{
  display:grid;
}
.accordion-two--column-left{
 width:90%;
  max-width: 530px;
}
  }
  @media only screen and (max-width: 980px) {

    .accordion-two--content{
  display:flex;
      flex-wrap:wrap;
      flex-direction: column-reverse;
      gap:30px;
}
    
.accordion-two--column-left{
 width:100%;
  max-width: 100%;
}

  }


  



.accordion-two--column-right{
 width:100%;
}


    .video-text-content {
        display: flex;
        width: 100%;
    }
    .text-content {
        color: #141414;
        flex: 1;
        margin-right: 20px;
    }
  
    .video-wrapper {
        position: relative;
        padding-bottom: 56.25%; /* 16:9 */
        height: 0;
      border-radius:20px;
      overflow:hidden;
    }
    .video-wrapper iframe {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
    }
.accordion-two--highlights{
  margin-bottom:30px;
}
.accordion-two--highlight h3{
  color:  #141414;
text-align: left;
font-family: Montserrat;
font-size: 22px;
font-style: normal;
font-weight: 800;
line-height: 104%; /* 22.88px */
text-transform: uppercase;
}

.accordion-two--highlight p{
color: #141414;
font-family: Inter;
font-size: 16px;
font-style: normal;
font-weight: 400;
line-height: 150%; /* 24px */
}

.accordion-two--highlight p {
  cursor: pointer;
  max-height: 0;
  overflow: hidden;
  transition: max-height 300ms ease;

}

.accordion-two--highlight.active p {
  max-height:auto; /* Adjust this value to fit the content */
}

.accordion-two--highlight.active{
  border-left: 3px solid #E9F24F;
    transition:300ms padding ;
    padding-left: 24px;
  opacity:1;
}
.accordion-two--highlight{
  padding-left: 27px;
  transition:300ms padding ;
  opacity: 0.6;
}
</style>

<script>
document.addEventListener('DOMContentLoaded', () => {
  const highlights = document.querySelectorAll('.accordion-two--highlight');

  if (highlights.length > 0) {
    const firstHighlight = highlights[0];
    firstHighlight.classList.add('active');
    const content = firstHighlight.querySelector('p');
    content.style.maxHeight = content.scrollHeight + 'px';
  }

  highlights.forEach(highlight => {
    highlight.addEventListener('click', () => {
      highlights.forEach(h => {
        h.classList.remove('active');
        h.querySelector('p').style.maxHeight = '0';
      });

      highlight.classList.add('active');
      const content = highlight.querySelector('p');
      content.style.maxHeight = content.scrollHeight + 'px';
    });
  });
});

</script>
