{% comment %} <style>
    #_builder-form label,
    form label {
    color:#fff !important;
  }
</style>
<!-- BFS 2025 Popup Overlay -->
<div
  id="bfs-popup-overlay"
  style="
    display:none;
    position:fixed;
    inset:0;
    z-index:9999;
    background:rgba(0,0,0,0.55);
    align-items:center;
    justify-content:center;
  "
>
  <div
    id="bfs-popup-inner"
    style="
      position:relative;
      background:#141414;
      border-radius:8px;
      box-shadow:0 4px 10px rgba(0,0,0,0.5);
      max-width:550px;
      width:95vw;
      max-height:90vh;
      overflow:auto;
    "
  >
    <button
      id="bfs-popup-close"
      type="button"
      style="
        position:absolute;
        top:12px;
        right:15px;
        z-index:10;
        font-size:28px;
        background:transparent;
        border:none;
        color:#fff;
        cursor:pointer;
      "
      aria-label="Close pop-up"
    >
      &times;
    </button>

    <iframe
      src="https://app.npta.ca/widget/form/8uVv9ds7XN9MAhpoWSsc"
      style="width:100%; height:602px; border:none; border-radius:0;"
      id="bfs-popup-iframe"
      title="Pre-Sale BFS 2025 Home Pop Up"
    ></iframe>
  </div>
</div>

<script>
  (function () {
    var overlay = document.getElementById('bfs-popup-overlay');
    var inner = document.getElementById('bfs-popup-inner');
    var closeBtn = document.getElementById('bfs-popup-close');

    if (!overlay || !inner) return;

    function openBfsPopup(event) {
      if (event) event.preventDefault();
      overlay.style.display = 'flex';
      document.body.style.overflow = 'hidden';
    }

    function closeBfsPopup() {
      overlay.style.display = 'none';
      document.body.style.overflow = '';
    }

    // Close by X button
    if (closeBtn) {
      closeBtn.addEventListener('click', function (e) {
        e.stopPropagation();
        closeBfsPopup();
      });
    }

    // Close by clicking outside the inner box
    overlay.addEventListener('click', function (e) {
      if (!inner.contains(e.target)) {
        closeBfsPopup();
      }
    });

    // Auto-open on homepage load
    window.addEventListener('load', function () {
      openBfsPopup();
    });

    // Listen for clicks on any BFS popup trigger
    document.addEventListener('click', function (e) {
      var trigger = e.target.closest('[data-bfs-popup-trigger="true"]');
      if (!trigger) return;
      openBfsPopup(e);
    });
  })();
</script> {% endcomment %}
